{% extends 'base.html' %}

{% block title %}
歡迎光臨
{% endblock %}

{% block content %}
    <div class="top-title">
        {% block title_message %}
        歡迎光臨，請輸入帳號密碼
        {% endblock %}
    </div>
    <form action="/signin" method="post" class="login-form">
        <div class="header">
            <h2>登入系統</h2>
        </div>
        <div class="form-group">
            <label for="username">帳號</label>
            <input type="text" id="username" name="username" placeholder="請輸入您的帳號">
        </div>
        <div class="form-group">
            <label for="password">密碼</label>
            <input type="password" id="password" name="password" placeholder="請輸入您的密碼">
        </div>
        <div class="form-group checkbox">
            <label for="agree">同意條款</label>
            <input type="checkbox" id="agree" name="agree">
        </div>
        <div class="form-group">
            <input onclick="CheckAgree()" type="submit" value="登入">
        </div>
    </form>
    <div class="login-form">
        <div class="header">
            <h2>計算正整數的平方</h2>
        </div>
        <div class="form-group">
            <label for="positive_num">正整數</label>
            <input type="text" id="positive_num" name="positive_num" placeholder="請輸入一個正整數">
        </div>
        <div class="form-group">
            <input type="submit" onclick="CheckNumber()" value="計算">
        </div>
    </div>
    <script>
        function CheckAgree(){
            var isAgreed = document.getElementById('agree').checked;
            if (!isAgreed) {
                event.preventDefault();
                alert('Please check the checkbox first');
            }
        }

        function CheckNumber(){
            var inputElement = document.getElementById('positive_num');
            var numberString = inputElement.value.trim();
            var number = parseFloat(numberString);

            if (numberString.includes('.') || !Number.isInteger(number) || number <= 0) {
                alert('Please enter a valid positive integer.'); 
            } else {
                var newUrl = '/square/' + number;
                window.location.href = newUrl;
            }
        }
    </script>
{% endblock %}
